# NES2Wii

NES2Wii - адаптер контроллеров NES/SNES/N64/SMD/DualShock на Wiimote 

Особенности:

* Вы можете играть в игры Virtual Console на Wii, используя оригинальные контроллеры NES/SNES/N64/SMD/DualShock!
* Вы можете подключить Wiimote к ПК по BlueTooth и использовать оригинальные контроллеры NES/SNES/N64/SMD/DualShock в эмуляторах

## Схема:

![Schematics](nes2wii.png)

Используется микроконтроллер ATMEGA16 или любая другая ATMEGA (просто перекомпилируйте исходный код). 
Для поддержки контроллера N64 используйте внешний кварцевый генератор на 20 МГц. 
Если не требуется поддержка контроллера N64, то можно использовать внутренний кварцевый генератор микроконтроллера.

## Фьюзы
* Low fuse: 0xCF
* High fuse: 0xC9

## Использование на ПК
Просто установите HID-драйвер Wiimote-контроллера: [http://julianloehr.de/educational-work/hid-wiimote/](http://julianloehr.de/educational-work/hid-wiimote/ "http://julianloehr.de/educational-work/hid-wiimote/")

## Протестировано на:

* ATMEGA16A с внешним кварцевым генератором на 20 МГц
* ATMEGA8 с внутренним кварцевым генератором на 8 Мгц (без поддержки контроллера N64)
* Контроллерах NES, SNES, N64, SMD и DualShock

## Режимы:
Используется три режима для контроллеров NES/SNES/SMD:
* Режим #1 - Крестовина работает как левый аналоговый стик и как крестовина Wii Classic Controller'а одновременно
* Режим #2 - Крестовина работает только как левый аналоговый стик Wii Classic Controller'а
* Режим #3 - Крестовина работает только как крестовина Wii Classic Controller'а

Для смены режима одновременно зажмите Start+A+B на несколько секунд. Зеленый светодиод мигнет 1/2/3 раза при установке нового режима.

## Заметки

* Вы можете выбрать ножки микроконтроллера и какие колнтроллеры нужны в файле *defines.h*.
* Провод *Detect* (*DTCT*) опционален, но может привести к некоторым глюкам. Если он не используется, то подключайте его к цепи питания (VCC).

## Замеченные баги/проблемы

* Работает с новыми играми на Wii U, например Mario Kart 8. Очередная защита от нелецензионных контроллеров?

## Автор/Контакты

**Алексей 'Cluster' Авдюхин**

clusterrr@clusterrr.com

[https://github.com/ClusterM](https://github.com/ClusterM "https://github.com/ClusterM")

[http://clusterrr.com](http://clusterrr.com "http://clusterrr.com")
